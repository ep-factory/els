<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ELS: Référence de la classe Doctrine_Transaction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Généré par Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="namespaces.html"><span>Espaces&nbsp;de&nbsp;nommage</span></a></li>
      <li class="current"><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li><a href="examples.html"><span>Exemples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li><a href="classes.html"><span>Index&nbsp;des&nbsp;structures&nbsp;de&nbsp;données</span></a></li>
      <li><a href="hierarchy.html"><span>Hiérarchie&nbsp;des&nbsp;classes</span></a></li>
      <li><a href="functions.html"><span>Champs&nbsp;de&nbsp;donnée</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="#pub-attribs">Champs de données</a> &#124;
<a href="#pro-methods">Fonctions membres protégées</a> &#124;
<a href="#pro-attribs">Attributs protégés</a>  </div>
  <div class="headertitle">
<h1>Référence de la classe Doctrine_Transaction</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Doctrine_Transaction" --><!-- doxytag: inherits="Doctrine_Connection_Module" --><div class="dynheader">
Graphe d'héritage de Doctrine_Transaction:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_doctrine___transaction.png" usemap="#Doctrine_Transaction_map" alt=""/>
  <map id="Doctrine_Transaction_map" name="Doctrine_Transaction_map">
<area href="class_doctrine___connection___module.html" alt="Doctrine_Connection_Module" shape="rect" coords="475,0,655,24"/>
<area href="class_doctrine___transaction___mock.html" alt="Doctrine_Transaction_Mock" shape="rect" coords="0,112,180,136"/>
<area href="class_doctrine___transaction___mssql.html" alt="Doctrine_Transaction_Mssql" shape="rect" coords="190,112,370,136"/>
<area href="class_doctrine___transaction___mysql.html" alt="Doctrine_Transaction_Mysql" shape="rect" coords="380,112,560,136"/>
<area href="class_doctrine___transaction___oracle.html" alt="Doctrine_Transaction_Oracle" shape="rect" coords="570,112,750,136"/>
<area href="class_doctrine___transaction___pgsql.html" alt="Doctrine_Transaction_Pgsql" shape="rect" coords="760,112,940,136"/>
<area href="class_doctrine___transaction___sqlite.html" alt="Doctrine_Transaction_Sqlite" shape="rect" coords="950,112,1130,136"/>
</map>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a160f0746c1090bb0cb515c3e55571944">addCollection</a> (<a class="el" href="class_doctrine___collection.html">Doctrine_Collection</a> $coll)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#afbf787ced76807989fb3093e1772c5a1">getState</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#aca8f719050eab09225b1c1c7bcb3219d">addInvalid</a> (<a class="el" href="class_doctrine___record.html">Doctrine_Record</a> $record)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#abe5c96816f377f3dcaeb12d860118227">getInvalid</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#ae3888fa3b64b98be56dd71c75ab5aee8">getTransactionLevel</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a378f5de19404070483cfe6f9c1750705"></a><!-- doxytag: member="Doctrine_Transaction::getInternalTransactionLevel" ref="a378f5de19404070483cfe6f9c1750705" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>getInternalTransactionLevel</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a82204fe116de101704a854c29291f6b5">beginTransaction</a> ($savepoint=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#aeb4a05182a9b191474dd8d3a647ef1e3">commit</a> ($savepoint=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a74f817378fe226bbe5bc013f84008b93">rollback</a> ($savepoint=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#ac942c3510057cb17457ec33f7205564a">setIsolation</a> ($isolation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a102b535645b2711493ea7999ecbe594a">getIsolation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#ac509bd52d46bf4aee47ce16516d36ed1">beginInternalTransaction</a> ($savepoint=null)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Champs de données</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a1dee6728d9baba284fc48ec202a0aa02">STATE_SLEEP</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#ac3f3de48f1dde4affc3192273c665a6a">STATE_ACTIVE</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a2079680022af9a37d39e1ed1d5649eb4">STATE_BUSY</a> = 2</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Fonctions membres protégées</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a365e44ba2af1b44c05a5aa4ca552a920">createSavePoint</a> ($savepoint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a26de754968dba2d6293159886d207dc0">releaseSavePoint</a> ($savepoint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a7f48c72ab062dd43ecbfa86946a391e2">rollbackSavePoint</a> ($savepoint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a94a89ba3a82fd4df72866150536c1376">_doRollback</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a9b4baec9679089ba0edfd90be8b22c26">_doCommit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_doctrine___transaction.html#a724f39a49e53da1c6bbb18288a8c14de">_doBeginTransaction</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Attributs protégés</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a012b61cc8eeda74b217c52421d4c0e9b"></a><!-- doxytag: member="Doctrine_Transaction::$_nestingLevel" ref="a012b61cc8eeda74b217c52421d4c0e9b" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_nestingLevel</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3eca960c8df4d50cab7a9c38f7e6968f"></a><!-- doxytag: member="Doctrine_Transaction::$_internalNestingLevel" ref="a3eca960c8df4d50cab7a9c38f7e6968f" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_internalNestingLevel</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cfdb67ae141f6890fac76dc5a4eda6c"></a><!-- doxytag: member="Doctrine_Transaction::$invalid" ref="a7cfdb67ae141f6890fac76dc5a4eda6c" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$invalid</b> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45f4059971ec52745acb85f779dd959e"></a><!-- doxytag: member="Doctrine_Transaction::$savePoints" ref="a45f4059971ec52745acb85f779dd959e" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$savePoints</b> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73f3891e0341636564b97d04384db518"></a><!-- doxytag: member="Doctrine_Transaction::$_collections" ref="a73f3891e0341636564b97d04384db518" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_collections</b> = array()</td></tr>
</table>
<hr/><h2>Documentation des fonctions membres</h2>
<a class="anchor" id="a724f39a49e53da1c6bbb18288a8c14de"></a><!-- doxytag: member="Doctrine_Transaction::_doBeginTransaction" ref="a724f39a49e53da1c6bbb18288a8c14de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_doBeginTransaction </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Begins a database transaction. </p>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mssql.html#a724f39a49e53da1c6bbb18288a8c14de">Doctrine_Transaction_Mssql</a>.</p>

</div>
</div>
<a class="anchor" id="a9b4baec9679089ba0edfd90be8b22c26"></a><!-- doxytag: member="Doctrine_Transaction::_doCommit" ref="a9b4baec9679089ba0edfd90be8b22c26" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_doCommit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs the commit. </p>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mssql.html#a9b4baec9679089ba0edfd90be8b22c26">Doctrine_Transaction_Mssql</a>.</p>

</div>
</div>
<a class="anchor" id="a94a89ba3a82fd4df72866150536c1376"></a><!-- doxytag: member="Doctrine_Transaction::_doRollback" ref="a94a89ba3a82fd4df72866150536c1376" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_doRollback </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs the rollback. </p>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mssql.html#a94a89ba3a82fd4df72866150536c1376">Doctrine_Transaction_Mssql</a>.</p>

</div>
</div>
<a class="anchor" id="a160f0746c1090bb0cb515c3e55571944"></a><!-- doxytag: member="Doctrine_Transaction::addCollection" ref="a160f0746c1090bb0cb515c3e55571944" args="(Doctrine_Collection $coll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_doctrine___collection.html">Doctrine_Collection</a> $&nbsp;</td>
          <td class="paramname"> <em>coll</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>addCollection adds a collection in the internal array of collections</p>
<p>at the end of each commit this array is looped over and of every collection <a class="el" href="class_doctrine.html">Doctrine</a> then takes a snapshot in order to keep the collections up to date with the database</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___collection.html">Doctrine_Collection</a></em>&nbsp;</td><td>$coll a collection to be added </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd><a class="el" href="class_doctrine___transaction.html">Doctrine_Transaction</a> this object </dd></dl>

</div>
</div>
<a class="anchor" id="aca8f719050eab09225b1c1c7bcb3219d"></a><!-- doxytag: member="Doctrine_Transaction::addInvalid" ref="aca8f719050eab09225b1c1c7bcb3219d" args="(Doctrine_Record $record)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addInvalid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_doctrine___record.html">Doctrine_Record</a> $&nbsp;</td>
          <td class="paramname"> <em>record</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>addInvalid adds record into invalid records list</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___record.html">Doctrine_Record</a></em>&nbsp;</td><td>$record </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>boolean false if record already existed in invalid records list, otherwise true </dd></dl>

</div>
</div>
<a class="anchor" id="ac509bd52d46bf4aee47ce16516d36ed1"></a><!-- doxytag: member="Doctrine_Transaction::beginInternalTransaction" ref="ac509bd52d46bf4aee47ce16516d36ed1" args="($savepoint=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beginInternalTransaction </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initiates a transaction.</p>
<p>This method must only be used by <a class="el" href="class_doctrine.html">Doctrine</a> itself to initiate transactions. Userland-code must use <a class="el" href="class_doctrine___transaction.html#a82204fe116de101704a854c29291f6b5">beginTransaction()</a>. </p>

</div>
</div>
<a class="anchor" id="a82204fe116de101704a854c29291f6b5"></a><!-- doxytag: member="Doctrine_Transaction::beginTransaction" ref="a82204fe116de101704a854c29291f6b5" args="($savepoint=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beginTransaction </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>beginTransaction Start a transaction or set a savepoint.</p>
<p>if trying to set a savepoint and there is no active transaction a new transaction is being started</p>
<p>This method should only be used by userland-code to initiate transactions. To initiate a transaction from inside <a class="el" href="class_doctrine.html">Doctrine</a> use <a class="el" href="class_doctrine___transaction.html#ac509bd52d46bf4aee47ce16516d36ed1">beginInternalTransaction()</a>.</p>
<p>Listeners: onPreTransactionBegin, onTransactionBegin</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$savepoint name of a savepoint to set </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___transaction___exception.html">Doctrine_Transaction_Exception</a></em>&nbsp;</td><td>if the transaction fails at database level </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>integer current transaction nesting level </dd></dl>

</div>
</div>
<a class="anchor" id="aeb4a05182a9b191474dd8d3a647ef1e3"></a><!-- doxytag: member="Doctrine_Transaction::commit" ref="aeb4a05182a9b191474dd8d3a647ef1e3" args="($savepoint=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">commit </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commit the database changes done during a transaction that is in progress or release a savepoint. This function may only be called when auto-committing is disabled, otherwise it will fail.</p>
<p>Listeners: preTransactionCommit, postTransactionCommit</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$savepoint name of a savepoint to release </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___transaction___exception.html">Doctrine_Transaction_Exception</a></em>&nbsp;</td><td>if the transaction fails at database level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___validator___exception.html">Doctrine_Validator_Exception</a></em>&nbsp;</td><td>if the transaction fails due to record validations </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>boolean false if commit couldn't be performed, true otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a365e44ba2af1b44c05a5aa4ca552a920"></a><!-- doxytag: member="Doctrine_Transaction::createSavePoint" ref="a365e44ba2af1b44c05a5aa4ca552a920" args="($savepoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">createSavePoint </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>releaseSavePoint creates a new savepoint</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$savepoint name of a savepoint to create </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>void </dd></dl>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mysql.html#a365e44ba2af1b44c05a5aa4ca552a920">Doctrine_Transaction_Mysql</a>, <a class="el" href="class_doctrine___transaction___oracle.html#a365e44ba2af1b44c05a5aa4ca552a920">Doctrine_Transaction_Oracle</a>, et <a class="el" href="class_doctrine___transaction___pgsql.html#a365e44ba2af1b44c05a5aa4ca552a920">Doctrine_Transaction_Pgsql</a>.</p>

</div>
</div>
<a class="anchor" id="abe5c96816f377f3dcaeb12d860118227"></a><!-- doxytag: member="Doctrine_Transaction::getInvalid" ref="abe5c96816f377f3dcaeb12d860118227" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getInvalid </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the invalid records</p>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>array An array of invalid records </dd></dl>

</div>
</div>
<a class="anchor" id="a102b535645b2711493ea7999ecbe594a"></a><!-- doxytag: member="Doctrine_Transaction::getIsolation" ref="a102b535645b2711493ea7999ecbe594a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getIsolation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>getTransactionIsolation</p>
<p>fetches the current session transaction isolation level</p>
<p>note: some drivers may support setting the transaction isolation level but not fetching it</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___transaction___exception.html">Doctrine_Transaction_Exception</a></em>&nbsp;</td><td>if the feature is not supported by the driver </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PDOException</em>&nbsp;</td><td>if something fails at the PDO level </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>string returns the current session transaction isolation level </dd></dl>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mysql.html#a102b535645b2711493ea7999ecbe594a">Doctrine_Transaction_Mysql</a>.</p>

</div>
</div>
<a class="anchor" id="afbf787ced76807989fb3093e1772c5a1"></a><!-- doxytag: member="Doctrine_Transaction::getState" ref="afbf787ced76807989fb3093e1772c5a1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>getState returns the state of this transaction module.</p>
<dl class="see"><dt><b>Voir également:</b></dt><dd>Doctrine_Connection_Transaction::STATE_* constants </dd></dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>integer the connection state </dd></dl>

</div>
</div>
<a class="anchor" id="ae3888fa3b64b98be56dd71c75ab5aee8"></a><!-- doxytag: member="Doctrine_Transaction::getTransactionLevel" ref="ae3888fa3b64b98be56dd71c75ab5aee8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getTransactionLevel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>getTransactionLevel get the current transaction nesting level</p>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>integer </dd></dl>

</div>
</div>
<a class="anchor" id="a26de754968dba2d6293159886d207dc0"></a><!-- doxytag: member="Doctrine_Transaction::releaseSavePoint" ref="a26de754968dba2d6293159886d207dc0" args="($savepoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">releaseSavePoint </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>releaseSavePoint releases given savepoint</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$savepoint name of a savepoint to release </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>void </dd></dl>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mysql.html#a26de754968dba2d6293159886d207dc0">Doctrine_Transaction_Mysql</a>, <a class="el" href="class_doctrine___transaction___oracle.html#a26de754968dba2d6293159886d207dc0">Doctrine_Transaction_Oracle</a>, et <a class="el" href="class_doctrine___transaction___pgsql.html#a26de754968dba2d6293159886d207dc0">Doctrine_Transaction_Pgsql</a>.</p>

</div>
</div>
<a class="anchor" id="a74f817378fe226bbe5bc013f84008b93"></a><!-- doxytag: member="Doctrine_Transaction::rollback" ref="a74f817378fe226bbe5bc013f84008b93" args="($savepoint=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rollback </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>rollback Cancel any database changes done during a transaction or since a specific savepoint that is in progress. This function may only be called when auto-committing is disabled, otherwise it will fail. Therefore, a new transaction is implicitly started after canceling the pending changes.</p>
<p>this method can be listened with onPreTransactionRollback and onTransactionRollback eventlistener methods</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$savepoint name of a savepoint to rollback to </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___transaction___exception.html">Doctrine_Transaction_Exception</a></em>&nbsp;</td><td>if the rollback operation fails at database level </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>boolean false if rollback couldn't be performed, true otherwise </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000042">À faire:</a></b></dt><dd>Shouldnt this method only commit a rollback if the transactionLevel is 1 (STATE_ACTIVE)? Explanation: Otherwise a rollback that is triggered from inside doctrine in an (emulated) nested transaction would lead to a complete database level rollback even though the client code did not yet want to do that. In other words: if the user starts a transaction doctrine shouldnt roll it back. <a class="el" href="class_doctrine.html">Doctrine</a> should only roll back transactions started by doctrine. Thoughts? </dd></dl>

</div>
</div>
<a class="anchor" id="a7f48c72ab062dd43ecbfa86946a391e2"></a><!-- doxytag: member="Doctrine_Transaction::rollbackSavePoint" ref="a7f48c72ab062dd43ecbfa86946a391e2" args="($savepoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rollbackSavePoint </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>savepoint</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>rollbackSavePoint releases given savepoint</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$savepoint name of a savepoint to rollback to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>void </dd></dl>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mysql.html#a7f48c72ab062dd43ecbfa86946a391e2">Doctrine_Transaction_Mysql</a>, <a class="el" href="class_doctrine___transaction___oracle.html#a7f48c72ab062dd43ecbfa86946a391e2">Doctrine_Transaction_Oracle</a>, et <a class="el" href="class_doctrine___transaction___pgsql.html#a7f48c72ab062dd43ecbfa86946a391e2">Doctrine_Transaction_Pgsql</a>.</p>

</div>
</div>
<a class="anchor" id="ac942c3510057cb17457ec33f7205564a"></a><!-- doxytag: member="Doctrine_Transaction::setIsolation" ref="ac942c3510057cb17457ec33f7205564a" args="($isolation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setIsolation </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>isolation</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>setIsolation</p>
<p>Set the transacton isolation level. (implemented by the connection drivers)</p>
<p>example:</p>
<p><code> $tx-&gt;setIsolation('READ UNCOMMITTED'); </code></p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>standard isolation level READ UNCOMMITTED (allows dirty reads) READ COMMITTED (prevents dirty reads) REPEATABLE READ (prevents nonrepeatable reads) SERIALIZABLE (prevents phantom reads)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="class_doctrine___transaction___exception.html">Doctrine_Transaction_Exception</a></em>&nbsp;</td><td>if the feature is not supported by the driver </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PDOException</em>&nbsp;</td><td>if something fails at the PDO level </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>void </dd></dl>

<p>Réimplémentée dans <a class="el" href="class_doctrine___transaction___mysql.html#ac942c3510057cb17457ec33f7205564a">Doctrine_Transaction_Mysql</a>, <a class="el" href="class_doctrine___transaction___oracle.html#ac942c3510057cb17457ec33f7205564a">Doctrine_Transaction_Oracle</a>, <a class="el" href="class_doctrine___transaction___pgsql.html#ac942c3510057cb17457ec33f7205564a">Doctrine_Transaction_Pgsql</a>, et <a class="el" href="class_doctrine___transaction___sqlite.html#ac942c3510057cb17457ec33f7205564a">Doctrine_Transaction_Sqlite</a>.</p>

</div>
</div>
<hr/><h2>Documentation des champs</h2>
<a class="anchor" id="ac3f3de48f1dde4affc3192273c665a6a"></a><!-- doxytag: member="Doctrine_Transaction::STATE_ACTIVE" ref="ac3f3de48f1dde4affc3192273c665a6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_doctrine___transaction.html#ac3f3de48f1dde4affc3192273c665a6a">STATE_ACTIVE</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_doctrine___transaction.html">Doctrine_Transaction</a> is in active state when it has one active transaction </p>

</div>
</div>
<a class="anchor" id="a2079680022af9a37d39e1ed1d5649eb4"></a><!-- doxytag: member="Doctrine_Transaction::STATE_BUSY" ref="a2079680022af9a37d39e1ed1d5649eb4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_doctrine___transaction.html#a2079680022af9a37d39e1ed1d5649eb4">STATE_BUSY</a> = 2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_doctrine___transaction.html">Doctrine_Transaction</a> is in busy state when it has multiple active transactions </p>

</div>
</div>
<a class="anchor" id="a1dee6728d9baba284fc48ec202a0aa02"></a><!-- doxytag: member="Doctrine_Transaction::STATE_SLEEP" ref="a1dee6728d9baba284fc48ec202a0aa02" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_doctrine___transaction.html#a1dee6728d9baba284fc48ec202a0aa02">STATE_SLEEP</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_doctrine___transaction.html">Doctrine_Transaction</a> is in sleep state when it has no active transactions </p>

</div>
</div>
<hr/>La documentation de cette classe a été générée à partir du fichier suivant :<ul>
<li>lib/vendor/symfony/lib/plugins/sfDoctrinePlugin/lib/vendor/doctrine/Doctrine/Transaction.php</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Structures de données</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Espaces de nommage</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Généré le Wed Jun 29 2011 19:34:22 pour ELS par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
